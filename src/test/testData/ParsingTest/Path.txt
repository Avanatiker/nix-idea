Nix File(0,717)
  NixListImpl(LIST)(0,717)
    PsiElement([)('[')(0,1)
    PsiWhiteSpace('\n')(1,2)
    NixPathImpl(PATH)(2,9)
      PsiElement(PATH_SEGMENT)('/bin/sh')(2,9)
    PsiWhiteSpace('\n')(9,10)
    NixPathImpl(PATH)(10,22)
      PsiElement(PATH_SEGMENT)('./builder.sh')(10,22)
    PsiWhiteSpace('\n')(22,23)
    NixPathImpl(PATH)(23,28)
      PsiElement(PATH_SEGMENT)('~/')(23,25)
      PsiElement(PATH_SEGMENT)('foo')(25,28)
    PsiWhiteSpace('\n')(28,29)
    NixPathImpl(PATH)(29,38)
      PsiElement(SPATH)('<nixpkgs>')(29,38)
    PsiWhiteSpace('\n')(38,39)
    PsiComment(SCOMMENT)('# antiquotations')(39,55)
    PsiWhiteSpace('\n')(55,56)
    NixPathImpl(PATH)(56,68)
      PsiElement(PATH_SEGMENT)('/')(56,57)
      NixAntiquotationImpl(ANTIQUOTATION)(57,68)
        PsiElement($)('$')(57,58)
        PsiElement({)('{')(58,59)
        NixVariableAccessImpl(VARIABLE_ACCESS)(59,67)
          PsiElement(ID)('fileName')(59,67)
        PsiElement(})('}')(67,68)
    PsiWhiteSpace('\n')(68,69)
    NixPathImpl(PATH)(69,82)
      PsiElement(PATH_SEGMENT)('/')(69,70)
      NixAntiquotationImpl(ANTIQUOTATION)(70,81)
        PsiElement($)('$')(70,71)
        PsiElement({)('{')(71,72)
        NixVariableAccessImpl(VARIABLE_ACCESS)(72,80)
          PsiElement(ID)('fileName')(72,80)
        PsiElement(})('}')(80,81)
      PsiElement(PATH_SEGMENT)('/')(81,82)
    PsiWhiteSpace('\n')(82,83)
    NixPathImpl(PATH)(83,102)
      PsiElement(PATH_SEGMENT)('./')(83,85)
      NixAntiquotationImpl(ANTIQUOTATION)(85,91)
        PsiElement($)('$')(85,86)
        PsiElement({)('{')(86,87)
        NixVariableAccessImpl(VARIABLE_ACCESS)(87,90)
          PsiElement(ID)('foo')(87,90)
        PsiElement(})('}')(90,91)
      PsiElement(PATH_SEGMENT)('-')(91,92)
      NixAntiquotationImpl(ANTIQUOTATION)(92,98)
        PsiElement($)('$')(92,93)
        PsiElement({)('{')(93,94)
        NixVariableAccessImpl(VARIABLE_ACCESS)(94,97)
          PsiElement(ID)('bar')(94,97)
        PsiElement(})('}')(97,98)
      PsiElement(PATH_SEGMENT)('.nix')(98,102)
    PsiWhiteSpace('\n')(102,103)
    NixPathImpl(PATH)(103,119)
      PsiElement(PATH_SEGMENT)('./')(103,105)
      NixAntiquotationImpl(ANTIQUOTATION)(105,111)
        PsiElement($)('$')(105,106)
        PsiElement({)('{')(106,107)
        NixVariableAccessImpl(VARIABLE_ACCESS)(107,110)
          PsiElement(ID)('foo')(107,110)
        PsiElement(})('}')(110,111)
      PsiElement(PATH_SEGMENT)('-')(111,112)
      NixAntiquotationImpl(ANTIQUOTATION)(112,118)
        PsiElement($)('$')(112,113)
        PsiElement({)('{')(113,114)
        NixVariableAccessImpl(VARIABLE_ACCESS)(114,117)
          PsiElement(ID)('bar')(114,117)
        PsiElement(})('}')(117,118)
      PsiElement(PATH_SEGMENT)('/')(118,119)
    PsiWhiteSpace('\n')(119,120)
    NixStdStringImpl(STD_STRING)(120,134)
      PsiElement(STRING_OPEN)('"')(120,121)
      NixAntiquotationImpl(ANTIQUOTATION)(121,133)
        PsiElement($)('$')(121,122)
        PsiElement({)('{')(122,123)
        NixPathImpl(PATH)(123,132)
          PsiElement(PATH_SEGMENT)('./foo.txt')(123,132)
        PsiElement(})('}')(132,133)
      PsiElement(STRING_CLOSE)('"')(133,134)
    PsiWhiteSpace('\n\n')(134,136)
    PsiComment(SCOMMENT)('# whitespace must not be part of paths')(136,174)
    PsiWhiteSpace('\n')(174,175)
    NixPathImpl(PATH)(175,194)
      PsiElement(PATH_SEGMENT)('prefix/dir/file.txt')(175,194)
    PsiWhiteSpace(' ')(194,195)
    NixPathImpl(PATH)(195,212)
      PsiElement(PATH_SEGMENT)('next/path/element')(195,212)
    PsiWhiteSpace('\n\n')(212,214)
    PsiComment(SCOMMENT)('# At least one slash (/) must appear before any interpolated expression for the result to be recognized as a path.')(214,328)
    PsiWhiteSpace('\n')(328,329)
    NixPathImpl(PATH)(329,332)
      PsiElement(PATH_SEGMENT)('a/b')(329,332)
    PsiWhiteSpace('\n\n')(332,334)
    PsiComment(SCOMMENT)('# https://nixos.org/manual/nix/stable/language/values.html#type-path')(334,402)
    PsiWhiteSpace('\n')(402,403)
    PsiComment(SCOMMENT)('#   a.${foo}/b.${bar} is a syntactically valid division operation.')(403,469)
    PsiWhiteSpace('\n')(469,470)
    PsiComment(SCOMMENT)('# but the Nix parser seems to handle this differently:')(470,524)
    PsiWhiteSpace('\n')(524,525)
    PsiComment(SCOMMENT)('#   https://github.com/NixOS/nix-idea/issues/59#issuecomment-1494786812')(525,596)
    PsiWhiteSpace('\n')(596,597)
    NixExprSelectImpl(EXPR_SELECT)(597,605)
      NixVariableAccessImpl(VARIABLE_ACCESS)(597,598)
        PsiElement(ID)('a')(597,598)
      PsiElement(.)('.')(598,599)
      NixAttrPathImpl(ATTR_PATH)(599,605)
        NixStringAttrImpl(STRING_ATTR)(599,605)
          NixAntiquotationImpl(ANTIQUOTATION)(599,605)
            PsiElement($)('$')(599,600)
            PsiElement({)('{')(600,601)
            NixVariableAccessImpl(VARIABLE_ACCESS)(601,604)
              PsiElement(ID)('foo')(601,604)
            PsiElement(})('}')(604,605)
    NixPathImpl(PATH)(605,614)
      PsiElement(PATH_SEGMENT)('/b.')(605,608)
      NixAntiquotationImpl(ANTIQUOTATION)(608,614)
        PsiElement($)('$')(608,609)
        PsiElement({)('{')(609,610)
        NixVariableAccessImpl(VARIABLE_ACCESS)(610,613)
          PsiElement(ID)('bar')(610,613)
        PsiElement(})('}')(613,614)
    PsiWhiteSpace('\n\n')(614,616)
    PsiComment(SCOMMENT)('# ./a.${foo}/b.${bar} is a path.')(616,648)
    PsiWhiteSpace('\n')(648,649)
    NixPathImpl(PATH)(649,668)
      PsiElement(PATH_SEGMENT)('./a.')(649,653)
      NixAntiquotationImpl(ANTIQUOTATION)(653,659)
        PsiElement($)('$')(653,654)
        PsiElement({)('{')(654,655)
        NixVariableAccessImpl(VARIABLE_ACCESS)(655,658)
          PsiElement(ID)('foo')(655,658)
        PsiElement(})('}')(658,659)
      PsiElement(PATH_SEGMENT)('/')(659,660)
      PsiElement(PATH_SEGMENT)('b.')(660,662)
      NixAntiquotationImpl(ANTIQUOTATION)(662,668)
        PsiElement($)('$')(662,663)
        PsiElement({)('{')(663,664)
        NixVariableAccessImpl(VARIABLE_ACCESS)(664,667)
          PsiElement(ID)('bar')(664,667)
        PsiElement(})('}')(667,668)
    PsiWhiteSpace('\n\n')(668,670)
    PsiComment(SCOMMENT)('# trailing slashes')(670,688)
    PsiWhiteSpace('\n')(688,689)
    NixPathImpl(PATH)(689,701)
      PsiElement(PATH_SEGMENT)('/dir/subdir/')(689,701)
    PsiWhiteSpace('\n')(701,702)
    NixPathImpl(PATH)(702,715)
      PsiElement(PATH_SEGMENT)('./dir/subdir/')(702,715)
    PsiWhiteSpace('\n')(715,716)
    PsiElement(])(']')(716,717)
